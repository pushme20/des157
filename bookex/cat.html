<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Chapter 13 Topic: The Document Object Model</title>
    <style>
        * {
            margin: 0px;
            padding: 0px
        }

        body {
            font-family: Verdana, Geneva, sans-serif;
            color: white;
            background-color: #333;
            font-size: 11px;
            margin: 24px;
        }

        h1 {
            margin-bottom: 24px;
        }

        p {
            text-align: center;
            margin-top: 100px;
        }

        img {
            position: relative;
        }
    </style>

</head>

<body>
    <h1>Chapter 13 Exercise - The Cat's Hat</h1>
    <p>
        <img src="http://eloquentjavascript.net/img/cat.png" id="cat" alt="cat image from EloquentJS book exercise">
        <img src="http://eloquentjavascript.net/img/hat.png" id="hat" alt="hat image from EloquentJS book exercise">
    </p>
    <script>
        //include ready statement at beginning of script for safe DOM manipulation
        document.addEventListener("DOMContentLoaded", function(event) {
            console.log("DOM fully loaded and parsed");
            //querySelector function used to obtain a specific element
            var cat = document.querySelector("#cat");
            var hat = document.querySelector("#hat");
            var angle = 0,
                //time it witnessed before, helps with smooth animation
                lastTime = null;

            //function to animate the hat
            function animate(time) {
                //if the previous time is nothing, calculate the angle and add on to it
                if (lastTime != null)
                    angle += (time - lastTime) * 0.001;
                lastTime = time; //reassign the previous time to the time parameter
                // calculates vertical radius of the circle
                hat.style.top = (Math.sin(angle) * 160) + "px";
                //calculates horizontal radius of the circle
                hat.style.left = (Math.cos(angle) * 200) + "px";

                //function runs when browser is ready to animate screen
                requestAnimationFrame(animate);
            }
            requestAnimationFrame(animate);
        });
    </script>
</body>
